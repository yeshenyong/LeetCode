# 搜索与推荐



​	那么搜索引擎的核心是什么呢？至少有两点。

1. **返回的商品一定要是强相关的**，也就是说Query和Item必须是强相关的，如果返回的商品是不相关的，举个例子，用户过去只在Aliexpress上买篮球鞋，突然有一天想买个足球，结果搜索引擎返回的全部是篮球鞋相关或者是其它无关的商品，此时用户的体验肯定会非常差，用户大概率会骂搜索引擎垃圾......所以搜索引擎最为重要的一步就是返回强相关的商品；
2. **返回用户大概率会购买的商品**：如果搜索引擎返回的商品都是强相关的，那么下一步，我们便可以把该问题转化为一个推荐相关的问题，我们需要找出该情况下转化率最高的商品推荐给用户。因为即使是相关的商品，也会有千千万万个，但用户并不是所有的商品都会进行购买，比如，某用户月收入是几千元，但搜索引擎返回给用户的商品都是几十万的，很明显超出了用户的能力范围，所以用户购买的概率几乎为0，但如果我们推荐的商品是用户能力范围内的符合用户兴趣爱好的，那么用户购买的概率就会大大提升。

​	我们的核心至少有两个，一个是构建Query与Item的关系(保证Query下返回的商品至少是强相关的)，第二个就是构建User和Item的关系（在强相关的商品中，找到用户大概率会点击购买的商品）

![img](https://pic4.zhimg.com/80/v2-e1742a6cb3f091088074e72b4ea4e13f_1440w.jpg)

本文我们重点关注精排侧提升**曝光到转化**的优化问题，即从曝光到被购买的概率优化问题



- 线上指标：计算的就是从曝光到购买的转化率，无需再进一步设计；
- 线下指标：线下指标我们需要能尽可能的对应到线上，即，线下涨的同时尽可能保证线上也能涨；



- 把Loss的设计排在特征工程等操作之前，结合业务指标并设计对应的Loss一般都是模型优化的第一步，如果Loss设计不佳,可能后续的诸多结论在新的情况下都会有问题, 所以在第一个模块我们先重点Loss的设计与探索。

![img](https://pic1.zhimg.com/80/v2-73b7ad8eae4a2a74987f3dbc795f93a8_1440w.jpg)

目前绝大部分传统机器学习框架都是基于下面的形式进行的，我们将训练数据输入到某个深度的模型框架，最后通过设计的某种Loss进行模型的训练，

![img](https://pic4.zhimg.com/80/v2-57545fbb0eb4bac8beeb5837482c7bef_1440w.jpg)









https://zhuanlan.zhihu.com/p/356875249