# C++ 类定义 header only



https://www.zhihu.com/question/35461702/answer/867392878



header-only无法避免的就是做了无用功，需要多个编译单元重复parsing。如果嫌parsing拖慢了编译速度，那就该老老实实上pch。然而pch并不是C++标准的一部分，module也是一拖再拖。

但另一方面，C++只管自己语言特性，编译系统和包管理上群雄割据混乱无比，发布header-only的好处就是不用担心build工具链的冲突。

老实说，全部暴露在头文件至少给了编译器做inline的机会……当然现在编译器已经开始插手链接阶段了，如果在链接时才生成代码，就能在这个时候做优化







综上所述，header-only 虽然不完美，但是比这个问题下大家能在 C++ 14 体系内想到的方案，比如 DLL 什么的还是要利大于弊



总结：爱用啥用啥，项目目前用啥就继续用啥，没有绝对优势也没有绝对劣势，存在必然有道理（taskflow 也是header only 的）

