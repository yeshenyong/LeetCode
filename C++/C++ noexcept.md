# C++ noexcept

noexcept 紧跟在函数的参数列表后面，它只用来表明两种状态："不抛异常" 和 "抛异常"。

**显示指定异常说明符的益处**

1. **语义**

   从语义上，noexcept 对于程序员之间的交流是有利的，就像 const 限定符一样。

2. **显示指定 noexcept 的函数，编译器会进行优化**

   因为在调用 noexcept 函数时不需要记录 exception handler，所以编译器可以生成更高效的二进制码（编译器是否优化不一定，但理论上 noexcept 给了编译器更多优化的机会）。另外编译器在编译一个 `noexcept(false)` 的函数时可能会生成很多冗余的代码，这些代码虽然只在出错的时候执行，但还是会对 Instruction Cache 造成影响，进而影响程序整体的性能。

我们所编写的函数**默认都不使用**，只有遇到以下的情况你再思考是否需要使用，

1. **析构函数**

   这不用多说，必须也应该为 noexcept。

2. **构造函数（普通、复制、移动），赋值运算符重载函数**

   尽量让上面的函数都是 noexcept，这可能会给你的代码带来一定的运行期执行效率。

3. **还有那些你可以 100% 保证不会 throw 的函数**

   比如像是 int，pointer 这类的 getter，setter 都可以用 noexcept。因为不可能出错。但请一定要注意，不能保证的地方请不要用，否则会害人害己！切记！如果你还是不知道该在哪里用，可以看下准标准库 [Boost](https://www.boost.org/) 的源码，全局搜索 `BOOST_NOEXCEPT`，你就大概明白了。